{"version":3,"sources":["components/Loader.js","components/FilesList.js","context/AuthContext.js","hooks/http.hooks.js","pages/FilesPage.js","hooks/auth.hooks.js","modules/toast/main.js","pages/UploadPage.js","components/FileCard.js","pages/DetailPage.js","pages/AuthPage.js","pages/ProfilePage.js","components/Navbar.js","App.js","routes.js","serviceWorker.js","index.js"],"names":["Loader","className","role","FilesList","item","style","width","src","link","height","alt","Date","data","toLocaleDateString","href","target","rel","name","noop","AuthContext","createContext","token","userId","login","logout","isAuthenticated","useHttp","useState","loading","setLoading","error","setError","request","useCallback","url","a","method","body","toJSON","headers","JSON","stringify","fetch","response","json","ok","clearError","FilesPage","useContext","files","setFiles","getFiles","authorization","responsed","useEffect","map","idx","key","useAuth","setToken","ready","setReady","setUserId","jwtToken","id","localStorage","setItem","removeItem","parse","getItem","modalInfo","e","div","document","createElement","innerHTML","type","message","append","setTimeout","opacity","transition","remove","UploadPage","history","useHistory","uploadImage","preventDefault","elements","buffer","FormData","i","length","res","push","console","log","onSubmit","accept","multiple","htmlFor","class","FileCard","file","master","DetailPage","setLink","linkId","useParams","getLink","AuthPage","auth","authSignIn","setAuthSignIn","valueEmail","setValueEmail","valuePassword","setValuePassword","valueLogin","setValueLogin","valueCheck","setValueCheck","email","password","formLogin","setFormLogin","buttonSingUp","setButtonSignUp","buttonSingIn","setButtonSignIn","formValidatonSignUp","changeLoginHandler","event","value","registerHandler","send","loginHandler","marginTop","onClick","bind","onChange","aria-describedby","disabled","checked","ProfilePage","profil","setProfil","Navbar","data-toggle","data-target","aria-controls","aria-expanded","aria-label","aria-current","to","App","routes","path","exact","useRoutes","Provider","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","then","registration","unregister","catch"],"mappings":"sTAEaA,EAAS,WAElB,OACI,yBAAKC,UAAU,iCACX,yBAAKA,UAAU,eAAeC,KAAK,UAC/B,0BAAMD,UAAU,WAAhB,iBCHHE,EAAY,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAIxB,OACI,oCACI,yBAAKH,UAAU,aAAaI,MAAO,CAACC,MAAO,WACvC,yBAAKC,IAAKH,EAAKI,KAAMP,UAAU,UAAWI,MAAO,CAACI,OAAQ,SAAUC,IAAI,QACxE,yBAAKT,UAAU,aACX,wBAAIA,UAAU,cAAd,6BAAiC,uBAAGA,UAAU,oBAAoB,IAAIU,KAAKP,EAAKQ,MAAMC,uBACtF,uBAAGZ,UAAU,aAAb,mCAAgC,uBAAGa,KAAMV,EAAKI,KAAMO,OAAO,SAASC,IAAI,uBAAuBZ,EAAKI,OACpG,uBAAGM,KAAI,kBAAaV,EAAKa,MAAQhB,UAAU,mBAA3C,8DCbpB,SAASiB,KAEF,IAAMC,EAAcC,wBAAc,CACrCC,MAAO,KACPC,OAAQ,KACRC,MAAOL,EACPM,OAAQN,EACRO,iBAAiB,ICNRC,EAAU,WAAO,IAAD,EACKC,oBAAS,GADd,mBAClBC,EADkB,KACTC,EADS,OAECF,mBAAS,MAFV,mBAElBG,EAFkB,KAEXC,EAFW,KA0CzB,MAAO,CAAEH,UAASI,QAtCFC,sBAAW,uCAAC,WAAOC,GAAP,qCAAAC,EAAA,6DAAYC,EAAZ,+BAAqB,MAAOC,EAA5B,uBAAkCC,EAAlC,uBAA0CC,EAA1C,uBACxBV,GAAW,GADa,SAQhBS,IACAD,EAAOG,KAAKC,UAAUJ,IATN,SAaGK,MAAMR,EAAK,CAAEE,SAAQC,OAAME,YAb9B,cAadI,EAbc,iBAcDA,EAASC,OAdR,eAcdhC,EAdc,OAiBf+B,EAASE,KACVhB,GAAW,GACXE,EAASnB,IAKbiB,GAAW,GAxBS,kBA0BbjB,GA1Ba,kCA4BpBiB,GAAW,GACXE,EAAS,EAAD,IA7BY,0DAAD,sDAiCxB,IAKwBD,QAAOgB,WAFfb,uBAAY,kBAAMF,EAAS,QAAO,MCI1CgB,MAxCf,WAAsB,IACV1B,EAAU2B,qBAAW7B,GAArBE,MADS,EAESM,mBAAS,IAFlB,mBAEVsB,EAFU,KAEHC,EAFG,OAGYxB,IAArBM,EAHS,EAGTA,QAASJ,EAHA,EAGAA,QAEXuB,EAAWlB,sBAAW,sBAAC,4BAAAE,EAAA,+EAEGH,EAAQ,YAAa,MAAO,MAAM,EAAO,CAC7DoB,cAAc,UAAD,OAAY/B,KAHR,OAEfgC,EAFe,OAKrBH,EAASG,GALY,uGAQ1B,CAAChC,EAAOW,IAOX,OALAsB,qBAAU,WACNH,MAED,CAACA,IAEAvB,EACO,kBAAC,EAAD,MAKP,yBAAK3B,UAAU,OACVgD,EACGA,EAAMM,KAAI,SAACnD,EAAMoD,GACb,OACI,kBAAC,EAAD,CAAWpD,KAAMA,EAAMqD,IAAKD,OAIpC,uBAAGvD,UAAU,yDAAb,wICrCHyD,EAAU,WAAO,IAAD,EACC/B,mBAAS,MADV,mBAClBN,EADkB,KACXsC,EADW,OAEChC,oBAAS,GAFV,mBAElBiC,EAFkB,KAEXC,EAFW,OAGGlC,mBAAS,MAHZ,mBAGlBL,EAHkB,KAGVwC,EAHU,KAQnBvC,EAAQU,uBAAY,SAAC8B,EAAUC,GACjCL,EAASI,GACTD,EAAUE,GAGVC,aAAaC,QAfD,WAesB1B,KAAKC,UAAU,CAC7CnB,OAAQ0C,EAAI3C,MAAO0C,OAExB,IAIGvC,EAASS,uBAAY,WACvB0B,EAAS,MACTG,EAAU,MAEVG,aAAaE,WA1BD,cA4Bb,IAGHb,qBAAU,WACN,IAAM1C,EAAO4B,KAAK4B,MAAMH,aAAaI,QAhCzB,aAkCRzD,GAAQA,EAAKS,OACbE,EAAMX,EAAKS,MAAOT,EAAKoD,IAE3BH,GAAS,KACV,CAACtC,IAWJ,MAAO,CAAEA,QAAOC,SAAQH,QAAOC,SAAQ0C,GAT5B,WACP,IAAMpD,EAAO4B,KAAK4B,MAAMH,aAAaI,QAzCzB,aA2CZ,GAAIzD,GAAQA,EAAKS,MAEb,OAAOT,EAAKoD,IAIuBJ,UCZhCU,MAtCf,SAAmBC,GAGf,GAAIA,EAAG,CAEH,IAEIC,EAAMC,SAASC,cAAc,OACjCF,EAAIvE,UAAY,kBAChBuE,EAAIR,GAAK,kBACTQ,EAAIG,UAAJ,gDAC8BJ,EAAEK,KADhC,8EAEqCL,EAAEM,QAFvC,wCAWAJ,SAASpC,KAAKyC,OAAON,GAErBO,YAAW,WACPP,EAAInE,MAAM2E,QAAU,EACpBR,EAAInE,MAAM4E,WAAa,SACvBF,YAAW,WACPP,EAAIU,WAtBO,gB,YC6FZC,MAxFf,WAAuB,IAAD,EACqBzD,IAAxBM,GADG,EACVF,MADU,EACHE,SACToD,GAFY,EACMtC,WACRuC,eAFE,EAQuB3B,IAAjCrC,EARU,EAQVA,MAEFiE,GAVY,EAQH/D,MARG,EAQIC,OARJ,EAQYF,OAEb,uCAAG,WAAMiD,GAAN,qBAAApC,EAAA,sDAOhB,IANAoC,EAAEgB,iBAEItC,EAAQsB,EAAExD,OAAOyE,SAASC,OAAOxC,MAEjCrC,EAAO,IAAI8E,SAEZC,EAAI,EAAGA,EAAI1C,EAAM2C,SAAUD,EAE5B/E,EAAKkE,OAAL,aAAkBa,GAAK1C,EAAM0C,IATjB,gBAwBE3D,EAAQ,kBAAmB,OAAQpB,GAAM,EAAO,CAAEwC,cAAc,UAAD,OAAY/B,KAxB7E,OA2BC,aAHXwE,EAxBU,QA2BRjB,MACJQ,EAAQU,KAAK,WAGjBC,QAAQC,IAAIH,GAEZvB,EAAUuB,GAjCM,4CAAH,uDAoDjB,OAZAvC,qBAAU,cAEP,IAWC,yBAAKrD,UAAU,OAEX,0BAAMgG,SAAUX,GACZ,wHAA8B,6BAE9B,2BAAOV,KAAK,OAAOZ,GAAG,OAAOkC,OAAO,UAAUjF,KAAK,SAASkF,UAAQ,IACpE,2BAAOC,QAAQ,OAAOC,MAAM,SACxB,kHAEJ,2BAAOzB,KAAK,SAAS3D,KAAK,OAAQhB,UAAU,mBAGhD,+BClFCqG,EAAW,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAGvB,OAFAA,EAAOA,EAAK,GACZR,QAAQC,IAAIO,EAAK/F,MAEb,oCAEI,yBAAKP,UAAU,sBACX,yBAAKM,IAAKgG,EAAK/F,KAAMP,UAAU,SAASI,MAAO,CAACI,OAAQ,SAAUC,IAAI,QACtE,yBAAKT,UAAU,aAEX,uBAAGA,UAAU,aAAb,qDAAmC,uBAAGA,UAAU,oBAAoBsG,EAAKC,SACzE,uBAAGvG,UAAU,aAAb,mCAAgC,uBAAGa,KAAMyF,EAAK/F,KAAMO,OAAO,SAASC,IAAI,uBAAuBuF,EAAK/F,OACpG,uBAAGP,UAAU,aAAb,8EAAwC,uBAAGA,UAAU,oBAAoB,IAAIU,KAAK4F,EAAK3F,MAAMC,2BC8BlG4F,MArCf,WAAuB,IACXpF,EAAU2B,qBAAW7B,GAArBE,MADU,EAEMM,mBAAS,MAFf,mBAEXnB,EAFW,KAELkG,EAFK,KAGZC,EAASC,cAAY5C,GAHT,EAIWtC,IAArBM,EAJU,EAIVA,QAASJ,EAJC,EAIDA,QAEXiF,EAAU5E,sBAAW,sBAAC,4BAAAE,EAAA,+EAEHH,EAAQ,aAAD,OAAc2E,GAAU,MAAO,MAAM,EAAO,CAChEvD,cAAc,UAAD,OAAY/B,KAHT,OAEhBkF,EAFgB,OAKpBG,EAAQH,GALY,uGAOzB,CAAClF,EAAOsF,EAAQ3E,IAMnB,OAJAsB,qBAAU,WACNuD,MACD,CAACA,IAEAjF,EACO,kBAAC,EAAD,MAIP,qCACMA,GAAWpB,GAAQ,kBAAC,EAAD,CAAU+F,KAAM/F,M,4BCoMlCsG,MA5Nf,WACI,IAAMC,EAAO/D,qBAAW7B,GADR,EAGgCO,IAAxCE,EAHQ,EAGRA,QAASE,EAHD,EAGCA,MAAOE,EAHR,EAGQA,QAASc,EAHjB,EAGiBA,WAHjB,EAKoBnB,oBAAS,GAL7B,mBAKTqF,EALS,KAKGC,EALH,OAOoBtF,mBAAS,IAP7B,mBAOTuF,EAPS,KAOGC,EAPH,OAQ0BxF,mBAAS,IARnC,mBAQTyF,EARS,KAQMC,EARN,OASoB1F,mBAAS,IAT7B,mBAST2F,EATS,KASGC,EATH,OAUoB5F,oBAAS,GAV7B,mBAUT6F,EAVS,KAUGC,EAVH,OAYkB9F,mBAAS,CACvC+F,MAAO,GAAIC,SAAU,KAbT,mBAYTC,EAZS,KAYEC,EAZF,OAgBwBlG,oBAAS,GAhBjC,mBAgBTmG,EAhBS,KAgBKC,EAhBL,OAiBwBpG,oBAAS,GAjBjC,mBAiBTqG,EAjBS,KAiBKC,EAjBL,KA+BhB,SAASC,IACDV,GAAcN,EAAWtB,OAAS,GAAKwB,EAAcxB,OAAS,GAAK0B,EAAW1B,OAAS,EACvFmC,GAAgB,GAEhBA,GAAgB,GAdxBzE,qBAAU,WACNgB,EAAUxC,GAIVgB,EAAW,QAEZ,CAAChB,EAAOgB,IAkBX,IAAMqF,EAAqB,SAACC,GACxBP,EAAa,2BAAKD,GAAN,kBAAkBQ,EAAMrH,OAAOE,KAAOmH,EAAMrH,OAAOsH,SAR3DT,EAAUF,MAAM9B,OAAS,GAAKgC,EAAUD,SAAS/B,OAAS,EAC1DqC,GAAgB,GAEhBA,GAAgB,IAUlBK,EAAe,uCAAG,WAAO/D,GAAP,iBAAApC,EAAA,6DACpBoC,EAAEgB,iBADkB,SAGVgD,EAAO,CAAEb,MAAOR,EAAY3F,MAAO+F,EAAYK,SAAUP,GAH/C,SAIGpF,EAAQ,qBAAsB,OAAQuG,GAAM,EAAM,CAAE,eAAgB,mCAJvE,OAIV3H,EAJU,OAKhB0D,EAAU1D,GALM,yGAAH,sDASf4H,EAAY,uCAAG,WAAOjE,GAAP,eAAApC,EAAA,6DACjBoC,EAAEgB,iBADe,kBAGMvD,EAAQ,kBAAmB,OAApB,eAAgC4F,IAAY,EAAM,CAAE,eAAgB,mCAHjF,OAGPhH,EAHO,OAKbmG,EAAKxF,MAAMX,EAAKS,MAAOT,EAAKU,QALf,yGAAH,sDAUlB,OACI,yBAAKrB,UAAU,gDAAgDI,MAAO,CAAEoI,UAAW,UAC/E,yBAAKxI,UAAU,UAEV+G,EACG,yBAAK/G,UAAU,kCACX,yBAAKA,UAAU,SAASyI,QAASzB,EAAc0B,KAAK,MAAM,IAA1D,WACA,yBAAK1I,UAAU,8BAA8ByI,QAASzB,EAAc0B,KAAK,MAAM,IAA/E,YAGJ,yBAAK1I,UAAU,kCACX,yBAAKA,UAAU,8BAA8ByI,QAASzB,EAAc0B,KAAK,MAAM,IAA/E,WACA,yBAAK1I,UAAU,SAASyI,QAASzB,EAAc0B,KAAK,MAAM,IAA1D,YAOP3B,EAEG,0BAAM/G,UAAU,OAAOgG,SAAUuC,GAC7B,yBAAKvI,UAAU,QACX,2BAAOmG,QAAQ,QAAQnG,UAAU,cAAjC,iBACA,2BACI2E,KAAK,QACL3E,UAAU,eACV+D,GAAG,QACH/C,KAAK,QAEL2H,SAAUT,KAUlB,yBAAKlI,UAAU,QACX,2BAAOmG,QAAQ,WAAWnG,UAAU,aAAa4I,mBAAiB,qBAAlE,YACA,2BACIjE,KAAK,WACL3E,UAAU,eACV+D,GAAG,WACH/C,KAAK,WACL2H,SAAUT,KAWjBH,EACG,4BAAQpD,KAAK,SAAS3E,UAAU,sCAAuC6I,SAAUlH,GAAjF,WAEA,4BAAQgD,KAAK,SAAS3E,UAAU,iDAAiD6I,UAAQ,GAAzF,YAOR,0BAAM7I,UAAU,OAAOgG,SAAUqC,GAC7B,yBAAKrI,UAAU,QACX,2BAAOmG,QAAQ,QAAQnG,UAAU,cAAjC,iBACA,2BACI2E,KAAK,QACL3E,UAAU,eAGVoI,MAAOnB,EACP0B,SACI,SAACrE,GACG4C,EAAc5C,EAAExD,OAAOsH,OACvBH,OAIZ,yBAAKlE,GAAG,YAAY/D,UAAU,aAA9B,mDAEJ,yBAAKA,UAAU,QACX,2BAAOmG,QAAQ,QAAQnG,UAAU,cAAjC,SACA,2BACI2E,KAAK,OACL3E,UAAU,eAEVoI,MAAOf,EACPsB,SACI,SAACrE,GACGgD,EAAchD,EAAExD,OAAOsH,OACvBH,QAKhB,yBAAKjI,UAAU,QACX,2BAAOmG,QAAQ,WAAWnG,UAAU,aAAa4I,mBAAiB,qBAAlE,YACA,2BACIjE,KAAK,WACL3E,UAAU,eAEVoI,MAAOjB,EACPwB,SACI,SAACrE,GACG8C,EAAiB9C,EAAExD,OAAOsH,OAC1BH,QAKhB,yBAAKjI,UAAU,mBACX,2BACI2E,KAAK,SACL3E,UAAU,mBACV+D,GAAG,YACH+E,QAASvB,EACToB,SACI,SAACrE,GACGkD,EAAclD,EAAExD,OAAOgI,SACvBb,QAOfJ,EACG,4BAAQ7H,UAAU,sCAAsC6I,SAAUlH,GAAlE,YAEA,4BAAQgD,KAAK,SAAS3E,UAAU,iDAAiD6I,UAAQ,GAAzF,gBCrKbE,MA3Cf,WAAwB,IACZ3H,EAAU2B,qBAAW7B,GAArBE,MADW,EAESM,mBAAS,MAFlB,mBAEZsH,EAFY,KAEJC,EAFI,OAGUxH,IAArBM,EAHW,EAGXA,QAASJ,EAHE,EAGFA,QAEXiF,EAAU5E,sBAAW,sBAAC,4BAAAE,EAAA,+EAEEH,EAAQ,mBAAoB,MAAO,MAAM,EAAO,CAClEoB,cAAc,UAAD,OAAY/B,KAHT,OAEhBgC,EAFgB,OAKpB0C,QAAQC,IAAI3C,GACZ6F,EAAU7F,GANU,yGAQzB,CAAChC,EAAOW,IAMX,OAJAsB,qBAAU,WACNuD,MACD,CAACA,IAEAjF,EACO,kBAAC,EAAD,MAIP,qCACMA,GAAWqH,GACT,yBAAKhJ,UAAU,gBACX,yBAAKA,UAAU,OAAf,4DAAkCgJ,EAAOvB,OACzC,yBAAKzH,UAAU,OAAf,4DAAkCgJ,EAAO1H,OACzC,yBAAKtB,UAAU,OAAf,wEAAoCgJ,EAAOhG,MAAM2C,W,OCjCxDuD,EAAS,WAClB,IAAM/D,EAAUC,cACV0B,EAAO/D,qBAAW7B,GASxB,OACI,yBAAKlB,UAAU,qEAAqEI,MAAO,CAAEI,OAAQ,SACjG,yBAAKR,UAAU,aACX,0BAAMA,UAAU,gBAAhB,cACA,4BAAQA,UAAU,iBAAiB2E,KAAK,SAASwE,cAAY,WAAWC,cAAY,aAAaC,gBAAc,YAAYC,gBAAc,QAAQC,aAAW,qBACxJ,0BAAMvJ,UAAU,yBAEpB,yBAAKA,UAAU,0EAA0E+D,GAAG,aACxF,wBAAI/D,UAAU,cACV,wBAAIA,UAAU,YACV,kBAAC,IAAD,CAASA,UAAU,WAAWwJ,eAAa,OAAOC,GAAG,WAArD,WAEJ,wBAAIzJ,UAAU,YACV,kBAAC,IAAD,CAASA,UAAU,WAAWyJ,GAAG,UAAjC,UAEJ,wBAAIzJ,UAAU,YACV,kBAAC,IAAD,CAASA,UAAU,WAAWyJ,GAAG,YAAjC,WAEJ,wBAAIzJ,UAAU,YACV,uBAAGA,UAAU,WAAWa,KAAK,IAAI4H,QA1BzD,SAAuBN,GACnBA,EAAM7C,iBAENwB,EAAKvF,SACL4D,EAAQU,KAAK,OAsBO,gBCEb6D,MA1Bf,WAAgB,IAAD,EACmCjG,IAAxCrC,EADK,EACLA,MAAOE,EADF,EACEA,MAAOC,EADT,EACSA,OAAQF,EADjB,EACiBA,OAAQsC,EADzB,EACyBA,MAChCnC,IAAoBJ,EACpBuI,ECJiB,SAAAnI,GACrB,OAAIA,EAEI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOoI,KAAK,SAASC,OAAK,GACtB,kBAAC,EAAD,OAEJ,kBAAC,IAAD,CAAOD,KAAK,UAAUC,OAAK,GACvB,kBAAC,EAAD,OAEJ,kBAAC,IAAD,CAAOD,KAAK,eACR,kBAAC,EAAD,OAEJ,kBAAC,IAAD,CAAOA,KAAK,WAAWC,OAAK,GACxB,kBAAC,EAAD,OAGJ,kBAAC,IAAD,CAAUJ,GAAG,YAMrB,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOG,KAAK,IAAIC,OAAK,GACjB,kBAAC,EAAD,OAEJ,kBAAC,IAAD,CAAUJ,GAAG,ODvBRK,CAAUtI,GAEzB,OAAKmC,EAQH,kBAACzC,EAAY6I,SAAb,CAAsB3B,MAAO,CAC3BhH,QAAOE,QAAOC,SAAQF,SAAQG,oBAE9B,kBAAC,IAAD,KACGA,GAAmB,kBAAC,EAAD,MACpB,yBAAKxB,UAAU,aACZ2J,KAZL,kBAAC,EAAD,OELcK,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEF/F,SAASgG,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAc/G,MACrBgH,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAjJ,GACLiE,QAAQjE,MAAMA,EAAM+C,c","file":"static/js/main.d16a1856.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Loader = () => {\r\n\r\n    return (\r\n        <div className=\"d-flex justify-content-center\">\r\n            <div className=\"spinner-grow\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\n\r\nexport const FilesList = ({ item }) => {\r\n    // console.log(item)\r\n    // console.log(key)\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card mt-3 \" style={{width: '33.33%'}} >\r\n                <img src={item.link} className=\"rouded \"  style={{height: '18rem'}} alt=\"...\" />\r\n                <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">Дата: <b className='font-weight-bold'>{new Date(item.data).toLocaleDateString()}</b></h5>\r\n                    <p className=\"card-text\">Сылка: <a href={item.link} target=\"_blank\" rel=\"noopener noreferrer\">{item.link}</a></p>\r\n                    <a href={`/detail/${item.name}`} className=\"btn btn-primary\">Подробнее</a>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import { createContext } from \"react\";\r\n\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n    token: null,\r\n    userId: null,\r\n    login: noop,\r\n    logout: noop,\r\n    isAuthenticated: false\r\n})","import { useCallback, useState } from \"react\"\r\n\r\n\r\nexport const useHttp = () => {\r\n    const [loading, setLoading] = useState(false)\r\n    const [error, setError] = useState(null)\r\n\r\n    const request = useCallback(async (url, method = 'GET', body, toJSON, headers) => {\r\n        setLoading(true)\r\n\r\n        try {\r\n            // console.log(url)\r\n            // if (body.toString() == '[object FormData]') {\r\n            //     console.log(56576)\r\n            // }\r\n            if (toJSON) {\r\n                body = JSON.stringify(body)\r\n            }\r\n            // console.log(body)\r\n            //  \r\n            const response = await fetch(url, { method, body, headers })\r\n            const data = await response.json()\r\n\r\n            // console.log(!response.ok)\r\n            if (!response.ok) {\r\n                setLoading(false)\r\n                setError(data)\r\n                // return new Error(data.message || 'Что-то пошло не так')\r\n            }\r\n\r\n\r\n            setLoading(false)\r\n\r\n            return data\r\n        } catch (error) {\r\n            setLoading(false)\r\n            setError(error)\r\n            // throw error\r\n\r\n        }\r\n    }, [])\r\n\r\n\r\n    const clearError = useCallback(() => setError(null), [])\r\n\r\n    return { loading, request, error, clearError }\r\n}","import React, { useCallback, useContext, useEffect, useState } from 'react'\r\nimport { Loader } from '../components/Loader'\r\nimport { FilesList } from '../components/FilesList'\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport { useHttp } from '../hooks/http.hooks'\r\n\r\n\r\nfunction FilesPage() {\r\n    const { token } = useContext(AuthContext)\r\n    const [files, setFiles] = useState([])\r\n    const { request, loading } = useHttp()\r\n\r\n    const getFiles = useCallback(async () => {\r\n        try {\r\n            const responsed = await request(`/api/file`, 'GET', null, false, {\r\n                authorization: `Bearer ${token}`\r\n            })\r\n            setFiles(responsed)\r\n            // console.log(responsed)\r\n        } catch (error) { } \r\n    }, [token, request])\r\n\r\n    useEffect(() => {\r\n        getFiles()\r\n        // console.log(files)\r\n    }, [getFiles])\r\n\r\n    if (loading) {\r\n        return <Loader />\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            {files ?\r\n                files.map((item, idx) => {\r\n                    return (\r\n                        <FilesList item={item} key={idx} />\r\n                    )\r\n                })\r\n                : \r\n                <p className=\"d-flex justify-content-center align-items-center mt-5\">Вы еще не загружали файлы</p>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FilesPage","import { useCallback, useEffect, useState } from \"react\"\r\n\r\nconst storageName = 'userData'\r\n\r\nexport const useAuth = () => {\r\n    const [token, setToken] = useState(null)\r\n    const [ready, setReady] = useState(false)\r\n    const [userId, setUserId] = useState(null)\r\n    // const [userLogin, setUserLogin] = useState(null)\r\n\r\n\r\n\r\n    const login = useCallback((jwtToken, id) => {\r\n        setToken(jwtToken)\r\n        setUserId(id)\r\n        // console.log(id)\r\n\r\n        localStorage.setItem(storageName, JSON.stringify({\r\n            userId: id, token: jwtToken\r\n        }))\r\n    }, [])\r\n\r\n\r\n\r\n    const logout = useCallback(() => {\r\n        setToken(null)\r\n        setUserId(null)\r\n\r\n        localStorage.removeItem(storageName)\r\n\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        const data = JSON.parse(localStorage.getItem(storageName))\r\n\r\n        if (data && data.token) {\r\n            login(data.token, data.id)\r\n        }\r\n        setReady(true)\r\n    }, [login])\r\n\r\n    const id = () => {\r\n        const data = JSON.parse(localStorage.getItem(storageName))\r\n\r\n        if (data && data.token) {\r\n            // console.log(data)\r\n            return data.id\r\n        }\r\n    }\r\n\r\n    return { login, logout, token, userId, id, ready }\r\n}","\r\nfunction modalInfo(e) {\r\n\r\n\r\n    if (e) {\r\n        // console.log(e)\r\n        const divTimeDel = 1700\r\n\r\n        let div = document.createElement('div')\r\n        div.className = 'toast-top-right'\r\n        div.id = 'toast-container'\r\n        div.innerHTML = `\r\n            <div class=\"toast toast-${e.type}\" aria-live=\"polite\" >\r\n                <div class=\"toast-message\">${e.message}</div>\r\n            </div>\r\n        `\r\n        //<div class=\"toast-title\">sfdsf</div>\r\n\r\n        // <div id=\"toast-container\" class=\"toast-top-right\"><div class=\"toast toast-error\" aria-live=\"assertive\" style=\"display: block;\"><div class=\"toast-title\">sfdsf</div><div class=\"toast-message\">sdffsddfsdsf</div></div></div>\r\n\r\n        // const toast = document.querySelectorAll('.toast-top-right')\r\n        \r\n        document.body.append(div)\r\n\r\n        setTimeout(() => {\r\n            div.style.opacity = 0\r\n            div.style.transition = 'all 1s'\r\n            setTimeout(() => {\r\n                div.remove()\r\n            }, divTimeDel);\r\n        }, divTimeDel);\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport default modalInfo","import React, { useContext, useEffect } from 'react'\r\nimport { useAuth } from '../hooks/auth.hooks'\r\nimport { useHttp } from '../hooks/http.hooks'\r\nimport modalInfo from '../modules/toast/main'\r\n// import '../modules/dropZone/dropzone-5.7.0/index'\r\nimport '../modules/dropZone/main'\r\nimport '../modules/dropZone/main.css'\r\nimport AuthContext from '../context/AuthContext'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\n\r\nfunction UploadPage() {\r\n    const { error, request, clearError } = useHttp()\r\n    const history = useHistory()\r\n    // const auth = useContext(AuthContext)\r\n    // const [image, setImage] = useState('')\r\n    // const [loading, setLoading] = useState(false)\r\n    // const [file, setFile] = useState(null)\r\n\r\n    const { token, login, logout, userId } = useAuth()\r\n\r\n    const uploadImage = async e => {\r\n        e.preventDefault()\r\n        let i\r\n        const files = e.target.elements.buffer.files\r\n\r\n        const data = new FormData()\r\n\r\n        for (i = 0; i < files.length; ++i) {\r\n            // console.log(files[i])\r\n            data.append(`idx${i}`, files[i])\r\n        }\r\n\r\n        // data.append('token', token)\r\n\r\n        // setLoading(true)\r\n        // console.log(files)\r\n\r\n        // console.log(data.values())\r\n        // // const res = await fetch('api/file/upload', { method: 'POST', body: data })\r\n        // // const res = await request('api/file/upload', 'POST', data, {token})\r\n        // const res = await fetch('api/file/test', { method: 'POST', body: data, headers: { 'Content-Type': 'multipart/form-data' } })\r\n        // const res = await fetch('api/file/test', { method: 'POST', body: data })\r\n        // const res = await request('api/file/test', 'POST', data, { 'Content-Type': 'multipart/form-data' })\r\n        // const res = await request('api/file/test', 'POST', data, false)\r\n        const res = await request('api/file/upload', 'POST', data, false, { authorization: `Bearer ${token}` })\r\n        // const res = await fetch('api/test/test', { method: 'POST', body: data, headers: { 'Content-Type': 'multipart/form-data' } })\r\n\r\n        if (res.type === 'success') {\r\n            history.push('/files/')\r\n        }\r\n\r\n        console.log(res)\r\n\r\n        modalInfo(res)\r\n        // if (res.failLoad > 0) {\r\n        //     alert(res.failLoad + \" файлов уже было загружено\")\r\n        // }\r\n\r\n\r\n    }\r\n    useEffect(() => {\r\n\r\n    }, [])\r\n\r\n\r\n    const uploadTest = async e => {\r\n        e.preventDefault()\r\n        // const res = await fetch('api/test/test', { method: 'POST', body: data, headers: { 'Content-Type': 'multipart/form-data' } })\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"App\">\r\n\r\n            <form onSubmit={uploadImage}>\r\n                <label>Загрузка файлов</label><br />\r\n                {/* <input type=\"file\" name=\"buffer\" accept=\"image/*\" multiple className=\"mt-5 p-5\" /><br /><br /> */}\r\n                <input type=\"file\" id=\"file\" accept=\"image/*\" name=\"buffer\" multiple />\r\n                <label htmlFor=\"file\" class=\"btn-3\">\r\n                    <span>Выберите файлы</span>\r\n                </label>\r\n                <input type=\"submit\" name=\"send\"  className=\"button-upload\" />\r\n                \r\n            </form>\r\n            <hr />\r\n            {/* <div class=\"container\">\r\n                <form class=\"file-uploader\">\r\n\r\n                    <label htmlFor=\"file-input\">Select your files</label>\r\n                    <input id=\"file-input\" type=\"file\" />\r\n\r\n                </form>\r\n            </div> */}\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default UploadPage","import React from 'react'\r\n\r\n\r\n\r\nexport const FileCard = ({ file }) => {\r\n    file = file[0]\r\n    console.log(file.link)\r\n    return (\r\n        <>\r\n            {/* <div className=\"card mb-3 justify-content-center align-items-center\"> */}\r\n            <div className=\"card mb-3 mt-4 col\">\r\n                <img src={file.link} className=\"rouded\" style={{height: '18rem'}} alt=\"...\" />\r\n                <div className=\"card-body\">\r\n                    {/* <h5 className=\"card-title font-weight-bold\">Ваша фотография</h5> */}\r\n                    <p className=\"card-text\">Владелец: <b className='font-weight-bold'>{file.master}</b></p>\r\n                    <p className=\"card-text\">Сылка: <a href={file.link} target=\"_blank\" rel=\"noopener noreferrer\">{file.link}</a></p>\r\n                    <p className=\"card-text\">Дата создания: <b className='font-weight-bold'>{new Date(file.data).toLocaleDateString()}</b></p>\r\n                    {/* <p className=\"card-text\"><small className=\"text-muted\">Last updated 3 mins ago</small></p> */}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useCallback, useContext, useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport { useHttp } from '../hooks/http.hooks'\r\nimport { Loader } from '../components/Loader'\r\nimport { FileCard } from '../components/FileCard'\r\n\r\n\r\n\r\nfunction DetailPage() {\r\n    const { token } = useContext(AuthContext)\r\n    const [link, setLink] = useState(null)\r\n    const linkId = useParams().id\r\n    const { request, loading } = useHttp()\r\n\r\n    const getLink = useCallback(async () => {\r\n        try {\r\n            let file = await request(`/api/file/${linkId}`, 'GET', null, false, {\r\n                authorization: `Bearer ${token}`\r\n            })\r\n            setLink(file)\r\n        } catch (error) { }\r\n    }, [token, linkId, request])\r\n\r\n    useEffect(() => {\r\n        getLink()\r\n    }, [getLink])\r\n\r\n    if (loading) {\r\n        return <Loader />\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!loading && link && <FileCard file={link} />}\r\n\r\n            {/* {\r\n                link.map((item, idx) => {\r\n                    return (\r\n                        <Post item={item} key={idx}></Post>)\r\n                })\r\n            } */}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DetailPage","import React, { useContext, useEffect, useState } from 'react'\r\nimport 'bootstrap'\r\nimport { useHttp } from '../hooks/http.hooks'\r\n\r\nimport modalInfo from '../modules/toast/main'\r\nimport '../modules/toast/main.css'\r\nimport { AuthContext } from '../context/AuthContext'\r\n\r\n\r\n\r\nfunction AuthPage() {\r\n    const auth = useContext(AuthContext)\r\n\r\n    const { loading, error, request, clearError } = useHttp()\r\n\r\n    const [authSignIn, setAuthSignIn] = useState(true)\r\n\r\n    const [valueEmail, setValueEmail] = useState('')\r\n    const [valuePassword, setValuePassword] = useState('')\r\n    const [valueLogin, setValueLogin] = useState('')\r\n    const [valueCheck, setValueCheck] = useState(true)\r\n\r\n    const [formLogin, setFormLogin] = useState({\r\n        email: '', password: ''\r\n    })\r\n\r\n    const [buttonSingUp, setButtonSignUp] = useState(false)\r\n    const [buttonSingIn, setButtonSignIn] = useState(false)\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        modalInfo(error)\r\n        // setTimeout(() => {\r\n        //     clearError(null)\r\n        // }, 1500)\r\n        clearError(null)\r\n        // console.log(error)\r\n    }, [error, clearError])\r\n\r\n\r\n    function formValidatonSignUp() {\r\n        if (valueCheck && valueEmail.length > 2 && valuePassword.length > 4 && valueLogin.length > 2) {\r\n            setButtonSignUp(true)\r\n        } else {\r\n            setButtonSignUp(false)\r\n        }\r\n    }\r\n    function formValidatonSignIn() {\r\n        if (formLogin.email.length > 1 && formLogin.password.length > 1) {\r\n            setButtonSignIn(true)\r\n        } else {\r\n            setButtonSignIn(false)\r\n        }\r\n    }\r\n\r\n    const changeLoginHandler = (event) => {\r\n        setFormLogin({ ...formLogin, [event.target.name]: event.target.value })\r\n        formValidatonSignIn()\r\n    }\r\n\r\n\r\n    const registerHandler = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            const send = { email: valueEmail, login: valueLogin, password: valuePassword }\r\n            const data = await request('/api/auth/register', 'POST', send, true, { 'Content-Type': 'application/json;charset=utf-8' })\r\n            modalInfo(data)\r\n        } catch (error) { }\r\n    }\r\n\r\n    const loginHandler = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            const data = await request('/api/auth/login', 'POST', {...formLogin}, true, { 'Content-Type': 'application/json;charset=utf-8' })\r\n            // console.log(data.userId)\r\n            auth.login(data.token, data.userId)\r\n        } catch (error) { }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"row justify-content-center align-items-center\" style={{ marginTop: \"10rem\" }}>\r\n            <div className=\"col-4 \">\r\n\r\n                {authSignIn ?\r\n                    <div className=\"row  switcher-auth text-center\">\r\n                        <div className=\"col-6 \" onClick={setAuthSignIn.bind(null, false)}>Sign Up</div>\r\n                        <div className=\"col-6 switcher-auth__active\" onClick={setAuthSignIn.bind(null, true)}>Sign In</div>\r\n                    </div>\r\n                    :\r\n                    <div className=\"row  switcher-auth text-center\">\r\n                        <div className=\"col-6 switcher-auth__active\" onClick={setAuthSignIn.bind(null, false)}>Sign Up</div>\r\n                        <div className=\"col-6 \" onClick={setAuthSignIn.bind(null, true)}>Sign In</div>\r\n                    </div>\r\n                }\r\n\r\n\r\n\r\n\r\n                {authSignIn ?\r\n\r\n                    <form className=\"mt-4\" onSubmit={loginHandler}>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Email\" className=\"form-label\">Email address</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                className=\"form-control\"\r\n                                id=\"Email\"\r\n                                name=\"email\"\r\n                                // aria-describedby=\"emailHelp\"\r\n                                onChange={changeLoginHandler}\r\n                                // value={valueEmail}\r\n                                // onChange={\r\n                                //     (e) => {\r\n                                //         setValueEmail(e.target.value)\r\n                                //         formValidatonSignIn()\r\n                                //     }\r\n                                // }\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Password\" className=\"form-label\" aria-describedby=\"passwordHelpBlock\">Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                id=\"Password\"\r\n                                name=\"password\"\r\n                                onChange={changeLoginHandler}\r\n                                // value={valuePassword}\r\n                                // onChange={\r\n                                //     (e) => {\r\n                                //         setValuePassword(e.target.value)\r\n                                //         formValidatonSignIn()\r\n                                //     }\r\n                                // }\r\n                            />\r\n                        </div>\r\n\r\n                        {buttonSingIn ?\r\n                            <button type=\"submit\" className=\"btn bg-success btn-block text-white\"  disabled={loading}>Sign In</button>\r\n                            :\r\n                            <button type=\"submit\" className=\"btn btn-block text-white bg-danger bg-gradient\" disabled >Sign In</button>\r\n                        }\r\n\r\n                    </form>\r\n\r\n                    :\r\n\r\n                    <form className=\"mt-4\" onSubmit={registerHandler}>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Email\" className=\"form-label\">Email address</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                className=\"form-control\"\r\n                                // id=\"Email\"\r\n                                // aria-describedby=\"emailHelp\"\r\n                                value={valueEmail}\r\n                                onChange={\r\n                                    (e) => {\r\n                                        setValueEmail(e.target.value)\r\n                                        formValidatonSignUp()\r\n                                    }\r\n                                }\r\n                            />\r\n                            <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Login\" className=\"form-label\">Login</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                // id=\"Login\"\r\n                                value={valueLogin}\r\n                                onChange={\r\n                                    (e) => {\r\n                                        setValueLogin(e.target.value)\r\n                                        formValidatonSignUp()\r\n                                    }\r\n                                }\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Password\" className=\"form-label\" aria-describedby=\"passwordHelpBlock\">Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                // id=\"Password\"\r\n                                value={valuePassword}\r\n                                onChange={\r\n                                    (e) => {\r\n                                        setValuePassword(e.target.value)\r\n                                        formValidatonSignUp()\r\n                                    }\r\n                                }\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-3 form-check\">\r\n                            <input\r\n                                type=\"hidden\"\r\n                                className=\"form-check-input\"\r\n                                id=\"CheckRuls\"\r\n                                checked={valueCheck}\r\n                                onChange={\r\n                                    (e) => {\r\n                                        setValueCheck(e.target.checked)\r\n                                        formValidatonSignUp()\r\n                                    }\r\n                                }\r\n                            />\r\n                            {/* <label className=\"form-check-label\" htmlFor=\"CheckRuls\">Check rules</label> */}\r\n                        </div>\r\n\r\n                        {buttonSingUp ?\r\n                            <button className=\"btn bg-success btn-block text-white\" disabled={loading} >Register</button>\r\n                            :\r\n                            <button type=\"submit\" className=\"btn btn-block text-white bg-danger bg-gradient\" disabled >Register</button>\r\n                        }\r\n\r\n                    </form>\r\n\r\n                }\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AuthPage","import React, { useCallback, useContext, useEffect, useState } from 'react'\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport { useHttp } from '../hooks/http.hooks'\r\nimport { Loader } from '../components/Loader'\r\n\r\n\r\n\r\n\r\nfunction ProfilePage() {\r\n    const { token } = useContext(AuthContext)\r\n    const [profil, setProfil] = useState(null)\r\n    const { request, loading } = useHttp()\r\n\r\n    const getLink = useCallback(async () => {\r\n        try {\r\n            let responsed = await request(`/api/auth/profil`, 'GET', null, false, {\r\n                authorization: `Bearer ${token}`\r\n            })\r\n            console.log(responsed)\r\n            setProfil(responsed)\r\n        } catch (error) { }\r\n    }, [token, request])\r\n\r\n    useEffect(() => {\r\n        getLink()\r\n    }, [getLink])\r\n\r\n    if (loading) {\r\n        return <Loader />\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!loading && profil &&\r\n                <div className=\"mt-3 d-flex \">\r\n                    <div className=\"col\">Выша почта: {profil.email}</div>\r\n                    <div className=\"col\">Выша логин: {profil.login}</div>\r\n                    <div className=\"col\">Выших файлов: {profil.files.length}</div>\r\n                </div>\r\n            }\r\n\r\n            {/* {\r\n                link.map((item, idx) => {\r\n                    return (\r\n                        <Post item={item} key={idx}></Post>)\r\n                })\r\n            } */}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfilePage","import React, { useContext } from 'react'\r\nimport { NavLink, useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context/AuthContext'\r\n\r\nexport const Navbar = () => {\r\n    const history = useHistory()\r\n    const auth = useContext(AuthContext)\r\n\r\n    function logoutHandler(event) {\r\n        event.preventDefault()\r\n\r\n        auth.logout()\r\n        history.push('/')\r\n    }\r\n\r\n    return (\r\n        <nav className=\"navbar navbar-dark bg-dark navbar-expand-lg container-flued mh-100\" style={{ height: '4rem' }}>\r\n            <div className=\"container\">\r\n                <span className=\"navbar-brand\">FileLoader</span>\r\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n                <div className=\"collapse navbar-collapse float-right justify-content-end text-uppercase\" id=\"navbarNav\">\r\n                    <ul className=\"navbar-nav\">\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"nav-link\" aria-current=\"page\" to=\"/upload\">UpLoad</NavLink>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"nav-link\" to=\"/files\">Files</NavLink>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"nav-link\" to=\"/profile\">Profil</NavLink>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <a className=\"nav-link\" href=\"/\" onClick={logoutHandler}>LogOut</a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}","import React from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { useRoutes } from './routes'\nimport { BrowserRouter } from 'react-router-dom'\nimport { useAuth } from './hooks/auth.hooks'\nimport { AuthContext } from './context/AuthContext'\nimport { Navbar } from './components/Navbar'\nimport { Loader } from './components/Loader'\n\n\nfunction App() {\n  const { token, login, logout, userId, ready } = useAuth()\n  const isAuthenticated = !!token\n  const routes = useRoutes(isAuthenticated)\n\n  if (!ready) {\n    return (\n      <Loader>\n      </Loader>\n    )\n  }\n\n  return (\n    <AuthContext.Provider value={{\n      token, login, logout, userId, isAuthenticated\n    }}>\n      <BrowserRouter>\n        {isAuthenticated && <Navbar />}\n        <div className=\"container\">\n          {routes}\n        </div>\n      </BrowserRouter>\n    </AuthContext.Provider>\n  )\n}\n\nexport default App\n","import React from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport FilesPage from './pages/FilesPage'\r\nimport UploadPage from './pages/UploadPage'\r\nimport DetailPage from './pages/DetailPage'\r\nimport AuthPage from './pages/AuthPage'\r\nimport ProfilePage from './pages/ProfilePage'\r\n\r\n\r\nexport const useRoutes = isAuthenticated => {\r\n    if (isAuthenticated) {\r\n        return (\r\n            <Switch>\r\n                <Route path='/files' exact>\r\n                    <FilesPage />\r\n                </Route>\r\n                <Route path='/upload' exact>\r\n                    <UploadPage />\r\n                </Route>\r\n                <Route path='/detail/:id' >\r\n                    <DetailPage />\r\n                </Route>\r\n                <Route path='/profile' exact>\r\n                    <ProfilePage />\r\n                </Route>\r\n                {/* <Route path='/files'> <div>fff</div></Route> */}\r\n                <Redirect to='/files' />\r\n            </Switch>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path='/' exact>\r\n                <AuthPage />\r\n            </Route>\r\n            <Redirect to='/' />\r\n        </Switch>\r\n    )\r\n\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}