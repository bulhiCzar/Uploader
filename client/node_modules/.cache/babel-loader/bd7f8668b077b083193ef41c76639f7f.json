{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import'bootstrap';import{useHttp}from'../hooks/http.hooks';import modalInfo from'../modules/toast/main';import'../modules/toast/main.css';import{AuthContext}from'../context/AuthContext';function AuthPage(){var auth=useContext(AuthContext);var _useHttp=useHttp(),loading=_useHttp.loading,error=_useHttp.error,request=_useHttp.request,clearError=_useHttp.clearError;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),authSignIn=_useState2[0],setAuthSignIn=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),valueEmail=_useState4[0],setValueEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),valuePassword=_useState6[0],setValuePassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),valueLogin=_useState8[0],setValueLogin=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),valueCheck=_useState10[0],setValueCheck=_useState10[1];var _useState11=useState({email:'',password:''}),_useState12=_slicedToArray(_useState11,2),formLogin=_useState12[0],setFormLogin=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),buttonSingUp=_useState14[0],setButtonSignUp=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),buttonSingIn=_useState16[0],setButtonSignIn=_useState16[1];useEffect(function(){modalInfo(error);// setTimeout(() => {\n//     clearError(null)\n// }, 1500)\nclearError(null);// console.log(error)\n},[error,clearError]);function formValidatonSignUp(){if(valueCheck&&valueEmail.length>2&&valuePassword.length>4&&valueLogin.length>2){setButtonSignUp(true);}else{setButtonSignUp(false);}}function formValidatonSignIn(){if(formLogin.email.length>1&&formLogin.password.length>1){setButtonSignIn(true);}else{setButtonSignIn(false);}}var changeLoginHandler=function changeLoginHandler(event){setFormLogin(_objectSpread(_objectSpread({},formLogin),{},_defineProperty({},event.target.name,event.target.value)));formValidatonSignIn();};var registerHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var send,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;send={email:valueEmail,login:valueLogin,password:valuePassword};_context.next=5;return request('/api/auth/register','POST',send,true,{'Content-Type':'application/json;charset=utf-8'});case 5:data=_context.sent;modalInfo(data);_context.next=11;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function registerHandler(_x){return _ref.apply(this,arguments);};}();var loginHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.prev=1;_context2.next=4;return request('/api/auth/login','POST',_objectSpread({},formLogin),true,{'Content-Type':'application/json;charset=utf-8'});case 4:data=_context2.sent;// console.log(data.userId)\nauth.login(data.token,data.userId);_context2.next=10;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function loginHandler(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center align-items-center\",style:{marginTop:\"10rem\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 \"},authSignIn?/*#__PURE__*/React.createElement(\"div\",{className:\"row  switcher-auth text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 \",onClick:setAuthSignIn.bind(null,false)},\"Sign Up\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 switcher-auth__active\",onClick:setAuthSignIn.bind(null,true)},\"Sign In\")):/*#__PURE__*/React.createElement(\"div\",{className:\"row  switcher-auth text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 switcher-auth__active\",onClick:setAuthSignIn.bind(null,false)},\"Sign Up\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 \",onClick:setAuthSignIn.bind(null,true)},\"Sign In\")),authSignIn?/*#__PURE__*/React.createElement(\"form\",{className:\"mt-4\",onSubmit:loginHandler},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Email\",className:\"form-label\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"form-control\",id:\"Email\",name:\"email\"// aria-describedby=\"emailHelp\"\n,onChange:changeLoginHandler// value={valueEmail}\n// onChange={\n//     (e) => {\n//         setValueEmail(e.target.value)\n//         formValidatonSignIn()\n//     }\n// }\n})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Password\",className:\"form-label\",\"aria-describedby\":\"passwordHelpBlock\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",id:\"Password\",name:\"password\",onChange:changeLoginHandler// value={valuePassword}\n// onChange={\n//     (e) => {\n//         setValuePassword(e.target.value)\n//         formValidatonSignIn()\n//     }\n// }\n})),buttonSingIn?/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn bg-success btn-block text-white\",disabled:loading},\"Sign In\"):/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-block text-white bg-danger bg-gradient\",disabled:true},\"Sign In\")):/*#__PURE__*/React.createElement(\"form\",{className:\"mt-4\",onSubmit:registerHandler},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Email\",className:\"form-label\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"form-control\"// id=\"Email\"\n// aria-describedby=\"emailHelp\"\n,value:valueEmail,onChange:function onChange(e){setValueEmail(e.target.value);formValidatonSignUp();}}),/*#__PURE__*/React.createElement(\"div\",{id:\"emailHelp\",className:\"form-text\"},\"We'll never share your email with anyone else.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Login\",className:\"form-label\"},\"Login\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\"// id=\"Login\"\n,value:valueLogin,onChange:function onChange(e){setValueLogin(e.target.value);formValidatonSignUp();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Password\",className:\"form-label\",\"aria-describedby\":\"passwordHelpBlock\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\"// id=\"Password\"\n,value:valuePassword,onChange:function onChange(e){setValuePassword(e.target.value);formValidatonSignUp();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 form-check\"},/*#__PURE__*/React.createElement(\"input\",{type:\"hidden\",className:\"form-check-input\",id:\"CheckRuls\",checked:valueCheck,onChange:function onChange(e){setValueCheck(e.target.checked);formValidatonSignUp();}}),/*#__PURE__*/React.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"CheckRuls\"},\"Check rules\")),buttonSingUp?/*#__PURE__*/React.createElement(\"button\",{className:\"btn bg-success btn-block text-white\",disabled:loading},\"Register\"):/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-block text-white bg-danger bg-gradient\",disabled:true},\"Register\"))));}export default AuthPage;","map":{"version":3,"sources":["C:/bulhi/#work/git/Rani9/Uploader/client/src/pages/AuthPage.js"],"names":["React","useContext","useEffect","useState","useHttp","modalInfo","AuthContext","AuthPage","auth","loading","error","request","clearError","authSignIn","setAuthSignIn","valueEmail","setValueEmail","valuePassword","setValuePassword","valueLogin","setValueLogin","valueCheck","setValueCheck","email","password","formLogin","setFormLogin","buttonSingUp","setButtonSignUp","buttonSingIn","setButtonSignIn","formValidatonSignUp","length","formValidatonSignIn","changeLoginHandler","event","target","name","value","registerHandler","e","preventDefault","send","login","data","loginHandler","token","userId","marginTop","bind","checked"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport 'bootstrap'\r\nimport { useHttp } from '../hooks/http.hooks'\r\n\r\nimport modalInfo from '../modules/toast/main'\r\nimport '../modules/toast/main.css'\r\nimport { AuthContext } from '../context/AuthContext'\r\n\r\n\r\n\r\nfunction AuthPage() {\r\n    const auth = useContext(AuthContext)\r\n\r\n    const { loading, error, request, clearError } = useHttp()\r\n\r\n    const [authSignIn, setAuthSignIn] = useState(true)\r\n\r\n    const [valueEmail, setValueEmail] = useState('')\r\n    const [valuePassword, setValuePassword] = useState('')\r\n    const [valueLogin, setValueLogin] = useState('')\r\n    const [valueCheck, setValueCheck] = useState(true)\r\n\r\n    const [formLogin, setFormLogin] = useState({\r\n        email: '', password: ''\r\n    })\r\n\r\n    const [buttonSingUp, setButtonSignUp] = useState(false)\r\n    const [buttonSingIn, setButtonSignIn] = useState(false)\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        modalInfo(error)\r\n        // setTimeout(() => {\r\n        //     clearError(null)\r\n        // }, 1500)\r\n        clearError(null)\r\n        // console.log(error)\r\n    }, [error, clearError])\r\n\r\n\r\n    function formValidatonSignUp() {\r\n        if (valueCheck && valueEmail.length > 2 && valuePassword.length > 4 && valueLogin.length > 2) {\r\n            setButtonSignUp(true)\r\n        } else {\r\n            setButtonSignUp(false)\r\n        }\r\n    }\r\n    function formValidatonSignIn() {\r\n        if (formLogin.email.length > 1 && formLogin.password.length > 1) {\r\n            setButtonSignIn(true)\r\n        } else {\r\n            setButtonSignIn(false)\r\n        }\r\n    }\r\n\r\n    const changeLoginHandler = (event) => {\r\n        setFormLogin({ ...formLogin, [event.target.name]: event.target.value })\r\n        formValidatonSignIn()\r\n    }\r\n\r\n\r\n    const registerHandler = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            const send = { email: valueEmail, login: valueLogin, password: valuePassword }\r\n            const data = await request('/api/auth/register', 'POST', send, true, { 'Content-Type': 'application/json;charset=utf-8' })\r\n            modalInfo(data)\r\n        } catch (error) { }\r\n    }\r\n\r\n    const loginHandler = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            const data = await request('/api/auth/login', 'POST', {...formLogin}, true, { 'Content-Type': 'application/json;charset=utf-8' })\r\n            // console.log(data.userId)\r\n            auth.login(data.token, data.userId)\r\n        } catch (error) { }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"row justify-content-center align-items-center\" style={{ marginTop: \"10rem\" }}>\r\n            <div className=\"col-4 \">\r\n\r\n                {authSignIn ?\r\n                    <div className=\"row  switcher-auth text-center\">\r\n                        <div className=\"col-6 \" onClick={setAuthSignIn.bind(null, false)}>Sign Up</div>\r\n                        <div className=\"col-6 switcher-auth__active\" onClick={setAuthSignIn.bind(null, true)}>Sign In</div>\r\n                    </div>\r\n                    :\r\n                    <div className=\"row  switcher-auth text-center\">\r\n                        <div className=\"col-6 switcher-auth__active\" onClick={setAuthSignIn.bind(null, false)}>Sign Up</div>\r\n                        <div className=\"col-6 \" onClick={setAuthSignIn.bind(null, true)}>Sign In</div>\r\n                    </div>\r\n                }\r\n\r\n\r\n\r\n\r\n                {authSignIn ?\r\n\r\n                    <form className=\"mt-4\" onSubmit={loginHandler}>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Email\" className=\"form-label\">Email address</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                className=\"form-control\"\r\n                                id=\"Email\"\r\n                                name=\"email\"\r\n                                // aria-describedby=\"emailHelp\"\r\n                                onChange={changeLoginHandler}\r\n                                // value={valueEmail}\r\n                                // onChange={\r\n                                //     (e) => {\r\n                                //         setValueEmail(e.target.value)\r\n                                //         formValidatonSignIn()\r\n                                //     }\r\n                                // }\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Password\" className=\"form-label\" aria-describedby=\"passwordHelpBlock\">Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                id=\"Password\"\r\n                                name=\"password\"\r\n                                onChange={changeLoginHandler}\r\n                                // value={valuePassword}\r\n                                // onChange={\r\n                                //     (e) => {\r\n                                //         setValuePassword(e.target.value)\r\n                                //         formValidatonSignIn()\r\n                                //     }\r\n                                // }\r\n                            />\r\n                        </div>\r\n\r\n                        {buttonSingIn ?\r\n                            <button type=\"submit\" className=\"btn bg-success btn-block text-white\"  disabled={loading}>Sign In</button>\r\n                            :\r\n                            <button type=\"submit\" className=\"btn btn-block text-white bg-danger bg-gradient\" disabled >Sign In</button>\r\n                        }\r\n\r\n                    </form>\r\n\r\n                    :\r\n\r\n                    <form className=\"mt-4\" onSubmit={registerHandler}>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Email\" className=\"form-label\">Email address</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                className=\"form-control\"\r\n                                // id=\"Email\"\r\n                                // aria-describedby=\"emailHelp\"\r\n                                value={valueEmail}\r\n                                onChange={\r\n                                    (e) => {\r\n                                        setValueEmail(e.target.value)\r\n                                        formValidatonSignUp()\r\n                                    }\r\n                                }\r\n                            />\r\n                            <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Login\" className=\"form-label\">Login</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                // id=\"Login\"\r\n                                value={valueLogin}\r\n                                onChange={\r\n                                    (e) => {\r\n                                        setValueLogin(e.target.value)\r\n                                        formValidatonSignUp()\r\n                                    }\r\n                                }\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Password\" className=\"form-label\" aria-describedby=\"passwordHelpBlock\">Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                // id=\"Password\"\r\n                                value={valuePassword}\r\n                                onChange={\r\n                                    (e) => {\r\n                                        setValuePassword(e.target.value)\r\n                                        formValidatonSignUp()\r\n                                    }\r\n                                }\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-3 form-check\">\r\n                            <input\r\n                                type=\"hidden\"\r\n                                className=\"form-check-input\"\r\n                                id=\"CheckRuls\"\r\n                                checked={valueCheck}\r\n                                onChange={\r\n                                    (e) => {\r\n                                        setValueCheck(e.target.checked)\r\n                                        formValidatonSignUp()\r\n                                    }\r\n                                }\r\n                            />\r\n                            <label className=\"form-check-label\" htmlFor=\"CheckRuls\">Check rules</label>\r\n                        </div>\r\n\r\n                        {buttonSingUp ?\r\n                            <button className=\"btn bg-success btn-block text-white\" disabled={loading} >Register</button>\r\n                            :\r\n                            <button type=\"submit\" className=\"btn btn-block text-white bg-danger bg-gradient\" disabled >Register</button>\r\n                        }\r\n\r\n                    </form>\r\n\r\n                }\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AuthPage"]},"metadata":{},"sourceType":"module"}