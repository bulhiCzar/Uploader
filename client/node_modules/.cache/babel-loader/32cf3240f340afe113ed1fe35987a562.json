{"ast":null,"code":"var _jsxFileName = \"C:\\\\bulhi\\\\#work\\\\downloadFileServer\\\\client\\\\src\\\\pages\\\\AuthPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport * as B from 'bootstrap';\nimport { useHttp } from '../hooks/http.hooks';\nimport modalInfo from '../modules/toast/main';\nimport '../modules/toast/main.css';\n\nfunction AuthPage() {\n  const {\n    loading,\n    error,\n    request,\n    clearError\n  } = useHttp();\n  const [authSignIn, setAuthSignIn] = useState(true);\n  const [valueEmail, setValueEmail] = useState('');\n  const [valuePassword, setValuePassword] = useState('');\n  const [valueLogin, setValueLogin] = useState('');\n  const [valueCheck, setValueCheck] = useState(true);\n  const [formLogin, setFormLogin] = useState({\n    email: '',\n    password: ''\n  });\n  const [buttonSingUp, setButtonSignUp] = useState(false);\n  const [buttonSingIn, setButtonSignIn] = useState(false);\n  useEffect(() => {\n    modalInfo(error); // setTimeout(() => {\n    //     clearError(null)\n    // }, 1500)\n\n    clearError(null);\n    console.log(error);\n  }, [error, clearError]);\n\n  function formValidatonSignUp() {\n    if (valueCheck && valueEmail.length > 2 && valuePassword.length > 4 && valueLogin.length > 2) {\n      setButtonSignUp(true);\n    } else {\n      setButtonSignUp(false);\n    }\n  }\n\n  function formValidatonSignIn() {\n    if (formLogin.email.length > 1 && formLogin.password.length > 1) {\n      setButtonSignIn(true);\n    } else {\n      setButtonSignIn(false);\n    }\n  }\n\n  const changeLoginHandler = event => {\n    setFormLogin({ ...formLogin,\n      [event.target.name]: event.target.value\n    });\n    formValidatonSignIn();\n  };\n\n  const registerHandler = async e => {\n    e.preventDefault();\n\n    try {\n      const send = {\n        email: valueEmail,\n        login: valueLogin,\n        password: valuePassword\n      };\n      const data = await request('/api/auth/register', 'POST', send);\n      modalInfo(data);\n    } catch (error) {}\n  };\n\n  const loginHandler = async e => {\n    e.preventDefault();\n\n    try {\n      const data = await request('/api/auth/login', 'POST', { ...formLogin\n      });\n      console.log(data);\n    } catch (error) {}\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center align-items-center\",\n    style: {\n      marginTop: \"10rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, authSignIn ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row  switcher-auth text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 \",\n    onClick: setAuthSignIn.bind(null, false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 switcher-auth__active\",\n    onClick: setAuthSignIn.bind(null, true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Sign In\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row  switcher-auth text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 switcher-auth__active\",\n    onClick: setAuthSignIn.bind(null, false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 \",\n    onClick: setAuthSignIn.bind(null, true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }, \"Sign In\")), authSignIn ? /*#__PURE__*/React.createElement(\"form\", {\n    className: \"mt-4\",\n    onSubmit: loginHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"Email\",\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 29\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    id: \"Email\",\n    name: \"email\" // aria-describedby=\"emailHelp\"\n    ,\n    onChange: changeLoginHandler // value={valueEmail}\n    // onChange={\n    //     (e) => {\n    //         setValueEmail(e.target.value)\n    //         formValidatonSignIn()\n    //     }\n    // }\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"Password\",\n    className: \"form-label\",\n    \"aria-describedby\": \"passwordHelpBlock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 29\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    id: \"Password\",\n    name: \"password\",\n    onChange: changeLoginHandler // value={valuePassword}\n    // onChange={\n    //     (e) => {\n    //         setValuePassword(e.target.value)\n    //         formValidatonSignIn()\n    //     }\n    // }\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  })), buttonSingIn ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn bg-success btn-block text-white\",\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 29\n    }\n  }, \"Exit\") : /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-block text-white bg-danger bg-gradient\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 29\n    }\n  }, \"Exit\")) : /*#__PURE__*/React.createElement(\"form\", {\n    className: \"mt-4\",\n    onSubmit: registerHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"Email\",\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 29\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    id: \"Email\",\n    \"aria-describedby\": \"emailHelp\",\n    value: valueEmail,\n    onChange: e => {\n      setValueEmail(e.target.value);\n      formValidatonSignUp();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"emailHelp\",\n    className: \"form-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 29\n    }\n  }, \"We'll never share your email with anyone else.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"Login\",\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"Login\",\n    value: valueLogin,\n    onChange: e => {\n      setValueLogin(e.target.value);\n      formValidatonSignUp();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"Password\",\n    className: \"form-label\",\n    \"aria-describedby\": \"passwordHelpBlock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 29\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    id: \"Password\",\n    value: valuePassword,\n    onChange: e => {\n      setValuePassword(e.target.value);\n      formValidatonSignUp();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 form-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    id: \"CheckRuls\",\n    checked: valueCheck,\n    onChange: e => {\n      setValueCheck(e.target.checked);\n      formValidatonSignUp();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-check-label\",\n    htmlFor: \"CheckRuls\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 29\n    }\n  }, \"Check rules\")), buttonSingUp ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn bg-success btn-block text-white\",\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 29\n    }\n  }, \"Register\") : /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-block text-white bg-danger bg-gradient\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 29\n    }\n  }, \"Register\"))));\n}\n\nexport default AuthPage;","map":{"version":3,"sources":["C:/bulhi/#work/downloadFileServer/client/src/pages/AuthPage.js"],"names":["React","useEffect","useState","B","useHttp","modalInfo","AuthPage","loading","error","request","clearError","authSignIn","setAuthSignIn","valueEmail","setValueEmail","valuePassword","setValuePassword","valueLogin","setValueLogin","valueCheck","setValueCheck","formLogin","setFormLogin","email","password","buttonSingUp","setButtonSignUp","buttonSingIn","setButtonSignIn","console","log","formValidatonSignUp","length","formValidatonSignIn","changeLoginHandler","event","target","name","value","registerHandler","e","preventDefault","send","login","data","loginHandler","marginTop","bind","checked"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport * as B from 'bootstrap'\r\nimport { useHttp } from '../hooks/http.hooks'\r\n\r\nimport modalInfo from '../modules/toast/main'\r\nimport '../modules/toast/main.css'\r\n\r\n\r\n\r\n\r\nfunction AuthPage() {\r\n\r\n    \r\n    const { loading, error, request, clearError } = useHttp()\r\n\r\n    const [authSignIn, setAuthSignIn] = useState(true)\r\n\r\n    const [valueEmail, setValueEmail] = useState('')\r\n    const [valuePassword, setValuePassword] = useState('')\r\n    const [valueLogin, setValueLogin] = useState('')\r\n    const [valueCheck, setValueCheck] = useState(true)\r\n\r\n    const [formLogin, setFormLogin] = useState({\r\n        email: '', password: ''\r\n    })\r\n\r\n    const [buttonSingUp, setButtonSignUp] = useState(false)\r\n    const [buttonSingIn, setButtonSignIn] = useState(false)\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        modalInfo(error)\r\n        // setTimeout(() => {\r\n        //     clearError(null)\r\n        // }, 1500)\r\n        clearError(null)\r\n        console.log(error)\r\n    }, [error, clearError])\r\n\r\n\r\n    function formValidatonSignUp() {\r\n        if (valueCheck && valueEmail.length > 2 && valuePassword.length > 4 && valueLogin.length > 2) {\r\n            setButtonSignUp(true)\r\n        } else {\r\n            setButtonSignUp(false)\r\n        }\r\n    }\r\n    function formValidatonSignIn() {\r\n        if (formLogin.email.length > 1 && formLogin.password.length > 1) {\r\n            setButtonSignIn(true)\r\n        } else {\r\n            setButtonSignIn(false)\r\n        }\r\n    }\r\n\r\n    const changeLoginHandler = (event) => {\r\n        setFormLogin({ ...formLogin, [event.target.name]: event.target.value })\r\n        formValidatonSignIn()\r\n    }\r\n\r\n\r\n    const registerHandler = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            const send = { email: valueEmail, login: valueLogin, password: valuePassword }\r\n            const data = await request('/api/auth/register', 'POST', send)\r\n            modalInfo(data)\r\n        } catch (error) { }\r\n    }\r\n\r\n    const loginHandler = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            const data = await request('/api/auth/login', 'POST', {...formLogin})\r\n            console.log(data)\r\n        } catch (error) { }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"row justify-content-center align-items-center\" style={{ marginTop: \"10rem\" }}>\r\n            <div className=\"col-4 \">\r\n\r\n                {authSignIn ?\r\n                    <div className=\"row  switcher-auth text-center\">\r\n                        <div className=\"col-6 \" onClick={setAuthSignIn.bind(null, false)}>Sign Up</div>\r\n                        <div className=\"col-6 switcher-auth__active\" onClick={setAuthSignIn.bind(null, true)}>Sign In</div>\r\n                    </div>\r\n                    :\r\n                    <div className=\"row  switcher-auth text-center\">\r\n                        <div className=\"col-6 switcher-auth__active\" onClick={setAuthSignIn.bind(null, false)}>Sign Up</div>\r\n                        <div className=\"col-6 \" onClick={setAuthSignIn.bind(null, true)}>Sign In</div>\r\n                    </div>\r\n                }\r\n\r\n\r\n\r\n\r\n                {authSignIn ?\r\n\r\n                    <form className=\"mt-4\" onSubmit={loginHandler}>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Email\" className=\"form-label\">Email address</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                className=\"form-control\"\r\n                                id=\"Email\"\r\n                                name=\"email\"\r\n                                // aria-describedby=\"emailHelp\"\r\n                                onChange={changeLoginHandler}\r\n                                // value={valueEmail}\r\n                                // onChange={\r\n                                //     (e) => {\r\n                                //         setValueEmail(e.target.value)\r\n                                //         formValidatonSignIn()\r\n                                //     }\r\n                                // }\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Password\" className=\"form-label\" aria-describedby=\"passwordHelpBlock\">Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                id=\"Password\"\r\n                                name=\"password\"\r\n                                onChange={changeLoginHandler}\r\n                                // value={valuePassword}\r\n                                // onChange={\r\n                                //     (e) => {\r\n                                //         setValuePassword(e.target.value)\r\n                                //         formValidatonSignIn()\r\n                                //     }\r\n                                // }\r\n                            />\r\n                        </div>\r\n\r\n                        {buttonSingIn ?\r\n                            <button type=\"submit\" className=\"btn bg-success btn-block text-white\"  disabled={loading}>Exit</button>\r\n                            :\r\n                            <button type=\"submit\" className=\"btn btn-block text-white bg-danger bg-gradient\" disabled >Exit</button>\r\n                        }\r\n\r\n                    </form>\r\n\r\n                    :\r\n\r\n                    <form className=\"mt-4\" onSubmit={registerHandler}>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Email\" className=\"form-label\">Email address</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                className=\"form-control\"\r\n                                id=\"Email\"\r\n                                aria-describedby=\"emailHelp\"\r\n                                value={valueEmail}\r\n                                onChange={\r\n                                    (e) => {\r\n                                        setValueEmail(e.target.value)\r\n                                        formValidatonSignUp()\r\n                                    }\r\n                                }\r\n                            />\r\n                            <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Login\" className=\"form-label\">Login</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                id=\"Login\"\r\n                                value={valueLogin}\r\n                                onChange={\r\n                                    (e) => {\r\n                                        setValueLogin(e.target.value)\r\n                                        formValidatonSignUp()\r\n                                    }\r\n                                }\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"Password\" className=\"form-label\" aria-describedby=\"passwordHelpBlock\">Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                id=\"Password\"\r\n                                value={valuePassword}\r\n                                onChange={\r\n                                    (e) => {\r\n                                        setValuePassword(e.target.value)\r\n                                        formValidatonSignUp()\r\n                                    }\r\n                                }\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-3 form-check\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                className=\"form-check-input\"\r\n                                id=\"CheckRuls\"\r\n                                checked={valueCheck}\r\n                                onChange={\r\n                                    (e) => {\r\n                                        setValueCheck(e.target.checked)\r\n                                        formValidatonSignUp()\r\n                                    }\r\n                                }\r\n                            />\r\n                            <label className=\"form-check-label\" htmlFor=\"CheckRuls\">Check rules</label>\r\n                        </div>\r\n\r\n                        {buttonSingUp ?\r\n                            <button className=\"btn bg-success btn-block text-white\" disabled={loading} >Register</button>\r\n                            :\r\n                            <button type=\"submit\" className=\"btn btn-block text-white bg-danger bg-gradient\" disabled >Register</button>\r\n                        }\r\n\r\n                    </form>\r\n\r\n                }\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AuthPage"]},"metadata":{},"sourceType":"module"}