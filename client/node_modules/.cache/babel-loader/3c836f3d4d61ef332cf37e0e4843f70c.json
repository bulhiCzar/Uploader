{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useCallback,useContext,useEffect,useState}from'react';import{Loader}from'../components/Loader';import{FilesList}from'../components/FilesList';import{AuthContext}from'../context/AuthContext';import{useHttp}from'../hooks/http.hooks';function FilesPage(){var _useContext=useContext(AuthContext),token=_useContext.token;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),files=_useState2[0],setFiles=_useState2[1];var _useHttp=useHttp(),request=_useHttp.request,loading=_useHttp.loading;var getFiles=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var responsed;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request(\"/api/file\",'GET',null,false,{authorization:\"Bearer \".concat(token)});case 3:responsed=_context.sent;setFiles(responsed);// console.log(responsed)\n_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[token,request]);useEffect(function(){getFiles();// console.log(files)\n},[getFiles]);if(loading){return/*#__PURE__*/React.createElement(Loader,null);}return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},files?files.map(function(item,idx){return/*#__PURE__*/React.createElement(FilesList,{item:item,key:idx});}):/*#__PURE__*/React.createElement(\"p\",{className:\"d-flex justify-content-center align-items-center mt-5\"},\"\\u0412\\u044B \\u0435\\u0449\\u0435 \\u043D\\u0435 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u043B\\u0438 \\u0444\\u0430\\u0439\\u043B\\u044B\"));}export default FilesPage;","map":{"version":3,"sources":["C:/bulhi/#work/git/Rani9/Uploader/client/src/pages/FilesPage.js"],"names":["React","useCallback","useContext","useEffect","useState","Loader","FilesList","AuthContext","useHttp","FilesPage","token","files","setFiles","request","loading","getFiles","authorization","responsed","map","item","idx"],"mappings":"2fAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,UAA7B,CAAyCC,SAAzC,CAAoDC,QAApD,KAAoE,OAApE,CACA,OAASC,MAAT,KAAuB,sBAAvB,CACA,OAASC,SAAT,KAA0B,yBAA1B,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASC,OAAT,KAAwB,qBAAxB,CAGA,QAASC,CAAAA,SAAT,EAAqB,iBACCP,UAAU,CAACK,WAAD,CADX,CACTG,KADS,aACTA,KADS,eAESN,QAAQ,CAAC,EAAD,CAFjB,wCAEVO,KAFU,eAEHC,QAFG,4BAGYJ,OAAO,EAHnB,CAGTK,OAHS,UAGTA,OAHS,CAGAC,OAHA,UAGAA,OAHA,CAKjB,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,sEAAC,uLAEGY,CAAAA,OAAO,aAAc,KAAd,CAAqB,IAArB,CAA2B,KAA3B,CAAkC,CAC7DG,aAAa,kBAAYN,KAAZ,CADgD,CAAlC,CAFV,QAEfO,SAFe,eAKrBL,QAAQ,CAACK,SAAD,CAAR,CACA;AANqB,iJAAD,GAQzB,CAACP,KAAD,CAAQG,OAAR,CARyB,CAA5B,CAUAV,SAAS,CAAC,UAAM,CACZY,QAAQ,GACR;AACH,CAHQ,CAGN,CAACA,QAAD,CAHM,CAAT,CAKA,GAAID,OAAJ,CAAa,CACT,mBAAO,oBAAC,MAAD,MAAP,CACH,CAGD,mBACI,2BAAK,SAAS,CAAC,KAAf,EACKH,KAAK,CACFA,KAAK,CAACO,GAAN,CAAU,SAACC,IAAD,CAAOC,GAAP,CAAe,CACrB,mBACI,oBAAC,SAAD,EAAW,IAAI,CAAED,IAAjB,CAAuB,GAAG,CAAEC,GAA5B,EADJ,CAGH,CAJD,CADE,cAOF,yBAAG,SAAS,CAAC,uDAAb,uIARR,CADJ,CAaH,CAED,cAAeX,CAAAA,SAAf","sourcesContent":["import React, { useCallback, useContext, useEffect, useState } from 'react'\r\nimport { Loader } from '../components/Loader'\r\nimport { FilesList } from '../components/FilesList'\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport { useHttp } from '../hooks/http.hooks'\r\n\r\n\r\nfunction FilesPage() {\r\n    const { token } = useContext(AuthContext)\r\n    const [files, setFiles] = useState([])\r\n    const { request, loading } = useHttp()\r\n\r\n    const getFiles = useCallback(async () => {\r\n        try {\r\n            const responsed = await request(`/api/file`, 'GET', null, false, {\r\n                authorization: `Bearer ${token}`\r\n            })\r\n            setFiles(responsed)\r\n            // console.log(responsed)\r\n        } catch (error) { } \r\n    }, [token, request])\r\n\r\n    useEffect(() => {\r\n        getFiles()\r\n        // console.log(files)\r\n    }, [getFiles])\r\n\r\n    if (loading) {\r\n        return <Loader />\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            {files ?\r\n                files.map((item, idx) => {\r\n                    return (\r\n                        <FilesList item={item} key={idx} />\r\n                    )\r\n                })\r\n                : \r\n                <p className=\"d-flex justify-content-center align-items-center mt-5\">Вы еще не загружали файлы</p>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FilesPage"]},"metadata":{},"sourceType":"module"}