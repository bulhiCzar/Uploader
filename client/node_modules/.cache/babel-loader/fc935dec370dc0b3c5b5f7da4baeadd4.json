{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useCallback,useContext,useEffect,useState}from'react';import{useParams}from'react-router-dom';import{AuthContext}from'../context/AuthContext';import{useHttp}from'../hooks/http.hooks';import{Loader}from'../components/Loader';import{FileCard}from'../components/FileCard';function DetailPage(){var _useContext=useContext(AuthContext),token=_useContext.token;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),link=_useState2[0],setLink=_useState2[1];var linkId=useParams().id;var _useHttp=useHttp(),request=_useHttp.request,loading=_useHttp.loading;var getLink=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var file;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request(\"/api/file/\".concat(linkId),'GET',null,false,{authorization:\"Bearer \".concat(token)});case 3:file=_context.sent;setLink(file);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[token,linkId,request]);useEffect(function(){getLink();},[getLink]);if(loading){return/*#__PURE__*/React.createElement(Loader,null);}return/*#__PURE__*/React.createElement(React.Fragment,null,!loading&&link&&/*#__PURE__*/React.createElement(FileCard,{file:link}));}export default DetailPage;","map":{"version":3,"sources":["C:/bulhi/#work/git/Rani9/Uploader/client/src/pages/DetailPage.js"],"names":["React","useCallback","useContext","useEffect","useState","useParams","AuthContext","useHttp","Loader","FileCard","DetailPage","token","link","setLink","linkId","id","request","loading","getLink","authorization","file"],"mappings":"2fAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,UAA7B,CAAyCC,SAAzC,CAAoDC,QAApD,KAAoE,OAApE,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,OAASC,MAAT,KAAuB,sBAAvB,CACA,OAASC,QAAT,KAAyB,wBAAzB,CAIA,QAASC,CAAAA,UAAT,EAAsB,iBACAR,UAAU,CAACI,WAAD,CADV,CACVK,KADU,aACVA,KADU,eAEMP,QAAQ,CAAC,IAAD,CAFd,wCAEXQ,IAFW,eAELC,OAFK,eAGlB,GAAMC,CAAAA,MAAM,CAAGT,SAAS,GAAGU,EAA3B,CAHkB,aAIWR,OAAO,EAJlB,CAIVS,OAJU,UAIVA,OAJU,CAIDC,OAJC,UAIDA,OAJC,CAMlB,GAAMC,CAAAA,OAAO,CAAGjB,WAAW,sEAAC,kLAEHe,CAAAA,OAAO,qBAAcF,MAAd,EAAwB,KAAxB,CAA+B,IAA/B,CAAqC,KAArC,CAA4C,CAChEK,aAAa,kBAAYR,KAAZ,CADmD,CAA5C,CAFJ,QAEhBS,IAFgB,eAKpBP,OAAO,CAACO,IAAD,CAAP,CALoB,iJAAD,GAOxB,CAACT,KAAD,CAAQG,MAAR,CAAgBE,OAAhB,CAPwB,CAA3B,CASAb,SAAS,CAAC,UAAM,CACZe,OAAO,GACV,CAFQ,CAEN,CAACA,OAAD,CAFM,CAAT,CAIA,GAAID,OAAJ,CAAa,CACT,mBAAO,oBAAC,MAAD,MAAP,CACH,CAED,mBACI,wCACK,CAACA,OAAD,EAAYL,IAAZ,eAAoB,oBAAC,QAAD,EAAU,IAAI,CAAEA,IAAhB,EADzB,CADJ,CAYH,CAED,cAAeF,CAAAA,UAAf","sourcesContent":["import React, { useCallback, useContext, useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport { useHttp } from '../hooks/http.hooks'\r\nimport { Loader } from '../components/Loader'\r\nimport { FileCard } from '../components/FileCard'\r\n\r\n\r\n\r\nfunction DetailPage() {\r\n    const { token } = useContext(AuthContext)\r\n    const [link, setLink] = useState(null)\r\n    const linkId = useParams().id\r\n    const { request, loading } = useHttp()\r\n\r\n    const getLink = useCallback(async () => {\r\n        try {\r\n            let file = await request(`/api/file/${linkId}`, 'GET', null, false, {\r\n                authorization: `Bearer ${token}`\r\n            })\r\n            setLink(file)\r\n        } catch (error) { }\r\n    }, [token, linkId, request])\r\n\r\n    useEffect(() => {\r\n        getLink()\r\n    }, [getLink])\r\n\r\n    if (loading) {\r\n        return <Loader />\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!loading && link && <FileCard file={link} />}\r\n\r\n            {/* {\r\n                link.map((item, idx) => {\r\n                    return (\r\n                        <Post item={item} key={idx}></Post>)\r\n                })\r\n            } */}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DetailPage"]},"metadata":{},"sourceType":"module"}