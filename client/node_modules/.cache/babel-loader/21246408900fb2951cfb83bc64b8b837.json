{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\bulhi\\\\#work\\\\git\\\\Rani9\\\\Uploader\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useCallback,useContext,useEffect,useState}from'react';import{AuthContext}from'../context/AuthContext';import{useHttp}from'../hooks/http.hooks';import{Loader}from'../components/Loader';function ProfilePage(){var _useContext=useContext(AuthContext),token=_useContext.token;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),profil=_useState2[0],setProfil=_useState2[1];var _useHttp=useHttp(),request=_useHttp.request,loading=_useHttp.loading;var getLink=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var responsed;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request(\"/api/auth/profil\",'GET',null,false,{authorization:\"Bearer \".concat(token)});case 3:responsed=_context.sent;console.log(responsed);setProfil(responsed);_context.next=10;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})),[token,request]);useEffect(function(){getLink();},[getLink]);if(loading){return/*#__PURE__*/React.createElement(Loader,null);}return/*#__PURE__*/React.createElement(React.Fragment,null,!loading&&profil&&/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3 d-flex \"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},\"\\u0412\\u0430\\u0448\\u0430 \\u043F\\u043E\\u0447\\u0442\\u0430: \",profil.email),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},\"\\u0412\\u0430\\u0448\\u0430 \\u043B\\u043E\\u0433\\u0438\\u043D: \",profil.login),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},\"\\u0412\\u0430\\u0448\\u0438\\u0445 \\u0444\\u0430\\u0439\\u043B\\u043E\\u0432: \",profil.files.length)));}export default ProfilePage;","map":{"version":3,"sources":["C:/bulhi/#work/git/Rani9/Uploader/client/src/pages/ProfilePage.js"],"names":["React","useCallback","useContext","useEffect","useState","AuthContext","useHttp","Loader","ProfilePage","token","profil","setProfil","request","loading","getLink","authorization","responsed","console","log","email","login","files","length"],"mappings":"2fAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,UAA7B,CAAyCC,SAAzC,CAAoDC,QAApD,KAAoE,OAApE,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,OAASC,MAAT,KAAuB,sBAAvB,CAKA,QAASC,CAAAA,WAAT,EAAuB,iBACDN,UAAU,CAACG,WAAD,CADT,CACXI,KADW,aACXA,KADW,eAESL,QAAQ,CAAC,IAAD,CAFjB,wCAEZM,MAFY,eAEJC,SAFI,4BAGUL,OAAO,EAHjB,CAGXM,OAHW,UAGXA,OAHW,CAGFC,OAHE,UAGFA,OAHE,CAKnB,GAAMC,CAAAA,OAAO,CAAGb,WAAW,sEAAC,uLAEEW,CAAAA,OAAO,oBAAqB,KAArB,CAA4B,IAA5B,CAAkC,KAAlC,CAAyC,CAClEG,aAAa,kBAAYN,KAAZ,CADqD,CAAzC,CAFT,QAEhBO,SAFgB,eAKpBC,OAAO,CAACC,GAAR,CAAYF,SAAZ,EACAL,SAAS,CAACK,SAAD,CAAT,CANoB,mJAAD,GAQxB,CAACP,KAAD,CAAQG,OAAR,CARwB,CAA3B,CAUAT,SAAS,CAAC,UAAM,CACZW,OAAO,GACV,CAFQ,CAEN,CAACA,OAAD,CAFM,CAAT,CAIA,GAAID,OAAJ,CAAa,CACT,mBAAO,oBAAC,MAAD,MAAP,CACH,CAED,mBACI,wCACK,CAACA,OAAD,EAAYH,MAAZ,eACG,2BAAK,SAAS,CAAC,cAAf,eACI,2BAAK,SAAS,CAAC,KAAf,8DAAkCA,MAAM,CAACS,KAAzC,CADJ,cAEI,2BAAK,SAAS,CAAC,KAAf,8DAAkCT,MAAM,CAACU,KAAzC,CAFJ,cAGI,2BAAK,SAAS,CAAC,KAAf,0EAAoCV,MAAM,CAACW,KAAP,CAAaC,MAAjD,CAHJ,CAFR,CADJ,CAkBH,CAED,cAAed,CAAAA,WAAf","sourcesContent":["import React, { useCallback, useContext, useEffect, useState } from 'react'\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport { useHttp } from '../hooks/http.hooks'\r\nimport { Loader } from '../components/Loader'\r\n\r\n\r\n\r\n\r\nfunction ProfilePage() {\r\n    const { token } = useContext(AuthContext)\r\n    const [profil, setProfil] = useState(null)\r\n    const { request, loading } = useHttp()\r\n\r\n    const getLink = useCallback(async () => {\r\n        try {\r\n            let responsed = await request(`/api/auth/profil`, 'GET', null, false, {\r\n                authorization: `Bearer ${token}`\r\n            })\r\n            console.log(responsed)\r\n            setProfil(responsed)\r\n        } catch (error) { }\r\n    }, [token, request])\r\n\r\n    useEffect(() => {\r\n        getLink()\r\n    }, [getLink])\r\n\r\n    if (loading) {\r\n        return <Loader />\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!loading && profil &&\r\n                <div className=\"mt-3 d-flex \">\r\n                    <div className=\"col\">Ваша почта: {profil.email}</div>\r\n                    <div className=\"col\">Ваша логин: {profil.login}</div>\r\n                    <div className=\"col\">Ваших файлов: {profil.files.length}</div>\r\n                </div>\r\n            }\r\n\r\n            {/* {\r\n                link.map((item, idx) => {\r\n                    return (\r\n                        <Post item={item} key={idx}></Post>)\r\n                })\r\n            } */}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfilePage"]},"metadata":{},"sourceType":"module"}